{"ast":null,"code":"var _jsxFileName = \"G:\\\\DaNenTang\\\\React_Native_CLI\\\\WebAdmin\\\\my-app\\\\src\\\\components\\\\Products\\\\Slider_IMG\\\\editimage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditImage = () => {\n  _s();\n\n  let history = useNavigate(); //hàm history.\n\n  const api = 'http://localhost:3001/';\n  const {\n    id\n  } = useParams(); // children , gọi id của bên màn hình App.js path={\"/editdanhmucsanpham/:id\"} \n  //reload dữ liệu :D\n\n  const refreshPage = () => {\n    window.location.reload();\n  };\n\n  const [list_trademark, setlist_trademark] = useState([]); //Tạo useState id cha và tên\n\n  const [trademarkname, settrademarkname] = useState({\n    image: \"\",\n    name_trademark: \"\",\n    name_trademark_email: \"\",\n    name_trademark_address: \"\"\n  });\n  const {\n    image,\n    name_trademark\n  } = trademarkname; //code xóa hình ảnh\n\n  const deleteImage = data => {\n    console.log(data);\n    fetch(api + 'deleteimgsp/', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        myid: data\n      })\n    }).then(response => {\n      if (response === 1) {\n        alert(\"xóa thành công\");\n      }\n    });\n    refreshPage();\n  }; //code update hình ảnh \n\n\n  const getimgedit = e => {\n    const data = new FormData();\n    console.log(data);\n    data.append('idsanpham', id);\n\n    for (var i = 0; i < e.target.files.length; i++) {\n      data.append('file', e.target.files[i]);\n    }\n\n    axios.post(api + \"upload-multiple-images\", data).then(response => {\n      console.log(\"Tên hình ảnh new : \" + response);\n    }); // refreshPage(); \n  };\n\n  useEffect(() => {\n    getsanpham();\n    getimageidsanpham();\n  }, []); //code update\n\n  const updateEmployee = async e => {\n    history(\"/image\");\n  }; // code hiển thị id sản phẩm\n\n\n  const getsanpham = async () => {\n    console.log(id);\n    const base_url = api + `editsanpham/${id}`;\n    const response = await axios.get(base_url); // lấy dữ liệu ở trên base_url bằng hàm await \n\n    console.log(response.data); // setcategory(response.data);  // hiển thị\n\n    console.log(response.data[0].tensanpham);\n    settrademarkname({\n      update: true,\n      name_trademark: response.data[0].tensanpham,\n      name_trademark_email: response.data[0].loaisanpham,\n      name_trademark_address: response.data[0].giasanpham,\n      details: response.data[0].chitietsanpham,\n      manufacturer: response.data[0].hangsanxuat,\n      image: response.data[0].mahinhanh,\n      trademark: response.data[0].thuonghieu,\n      screen: response.data[0].manhinh,\n      cpu: response.data[0].cpu,\n      ram: response.data[0].ram,\n      hard_drive: response.data[0].ocung,\n      weight: response.data[0].trongluong,\n      date: response.data[0].ngaysanxuat\n    });\n  }; //code hiển thị các thương hiệu\n\n\n  const getimageidsanpham = async () => {\n    const base_url_2 = api + `hienthi-image-id/${id}`;\n    const response_2 = await axios.get(base_url_2); // lấy dữ liệu ở trên base_url bằng hàm await \n\n    console.log(response_2.data);\n    setlist_trademark(response_2.data); // hiển thị\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-5 col-offset-3 mx-auto shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center mb-4\",\n          children: \"C\\u1EADp Nh\\u1EADt Th\\xF4ng Tin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"text-success\",\n          children: [\"T\\xEAn S\\u1EA3n Ph\\u1EA9m: \", name_trademark, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"text\",\n          children: [\"ID H\\xECnh \\u1EA2nh: \", id, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"card-img-top hover-shadow\",\n            src: api + 'images/' + image,\n            alt: \"Ch\\u01B0a c\\xF3 h\\xECnh \\u1EA3nh trong file n\\xEAn kh\\xF4ng hi\\u1EC3n th\\u1ECB\",\n            style: {\n              width: \"210px\",\n              height: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"file\",\n            className: \"form-control mb-4\",\n            onChange: getimgedit,\n            multiple: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: updateEmployee,\n          style: {\n            background: \"rgb(216, 21, 21)\"\n          },\n          className: \"btn btn-secondary btn-block\",\n          children: \"Xong\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        marginTop: \"50px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: list_trademark.map(name => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mb-3\",\n            style: {\n              width: \"12rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#0\",\n                onClick: () => {\n                  const confirmBox = window.confirm(\"Bạn chắc chắn muốn xóa Hình Ảnh có ID : \" + name.mahinhanh + \"\");\n\n                  if (confirmBox === true) {\n                    deleteImage(name.mahinhanh);\n                  }\n                },\n                style: {\n                  textDecoration: \"none\",\n                  marginLeft: \"162px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-hidden\": \"true\",\n                  className: \"text-danger\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"card-img-top hover-shadow\",\n              src: api + 'images/' + name.url,\n              alt: \"Ch\\u01B0a c\\xF3 h\\xECnh \\u1EA3nh trong file n\\xEAn kh\\xF4ng hi\\u1EC3n th\\u1ECB\",\n              style: {\n                height: \"110px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"card-text\",\n                children: [\"ID SANPHAM : \", name.mahinhanh]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this)\n        }, name.mahinhanh, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditImage, \"GZX3sUp1oyS0MqawmJlfoyStguI=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = EditImage;\nexport default EditImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditImage\");","map":{"version":3,"sources":["G:/DaNenTang/React_Native_CLI/WebAdmin/my-app/src/components/Products/Slider_IMG/editimage.js"],"names":["React","useState","useEffect","useNavigate","useParams","axios","EditImage","history","api","id","refreshPage","window","location","reload","list_trademark","setlist_trademark","trademarkname","settrademarkname","image","name_trademark","name_trademark_email","name_trademark_address","deleteImage","data","console","log","fetch","method","headers","Accept","body","JSON","stringify","myid","then","response","alert","getimgedit","e","FormData","append","i","target","files","length","post","getsanpham","getimageidsanpham","updateEmployee","base_url","get","tensanpham","update","loaisanpham","giasanpham","details","chitietsanpham","manufacturer","hangsanxuat","mahinhanh","trademark","thuonghieu","screen","manhinh","cpu","ram","hard_drive","ocung","weight","trongluong","date","ngaysanxuat","base_url_2","response_2","width","height","background","marginTop","map","name","confirmBox","confirm","textDecoration","marginLeft","url"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n \r\nconst EditImage = () => {\r\n  let history = useNavigate(); //hàm history.\r\n  const api ='http://localhost:3001/';\r\n  const { id } = useParams();  // children , gọi id của bên màn hình App.js path={\"/editdanhmucsanpham/:id\"} \r\n \r\n    //reload dữ liệu :D\r\n    const refreshPage = ()=>{\r\n      window.location.reload();\r\n   }\r\n\r\n  const[list_trademark, setlist_trademark] = useState([]);\r\n  //Tạo useState id cha và tên\r\n  const [trademarkname ,settrademarkname] = useState({\r\n    image:\"\",\r\n    name_trademark:\"\",\r\n    name_trademark_email:\"\",\r\n    name_trademark_address:\"\",\r\n  })\r\n  const { image, name_trademark } = trademarkname;\r\n\r\n      //code xóa hình ảnh\r\n  const deleteImage = data => {\r\n    console.log(data);\r\n    fetch(api + 'deleteimgsp/', {   \r\n      method: 'POST',\r\n      headers: {\r\n      Accept: 'application/json',\r\n    'Content-Type': 'application/json'\r\n      },\r\n        body: JSON.stringify({\r\n          myid: data,\r\n        })\r\n    })\r\n    .then((response) => {\r\n      if(response === 1){\r\n        alert(\"xóa thành công\")\r\n      }\r\n    });\r\n    refreshPage();\r\n  }\r\n\r\n    //code update hình ảnh \r\n    const getimgedit = (e) =>{\r\n     const data = new FormData();\r\n     console.log(data)\r\n     data.append('idsanpham', id);\r\n     for(var i = 0 ; i < e.target.files.length; i++){\r\n        data.append('file', e.target.files[i]);\r\n     }\r\n     axios.post(api + \"upload-multiple-images\", data) \r\n     .then(response => {\r\n       console.log(\"Tên hình ảnh new : \" + response)\r\n    })\r\n    // refreshPage(); \r\n    }\r\n\r\n  useEffect(() => {\r\n    getsanpham();\r\n    getimageidsanpham();\r\n  }, []);\r\n\r\n  //code update\r\n  const updateEmployee = async e => {\r\n    history(\"/image\");\r\n  };\r\n\r\n  // code hiển thị id sản phẩm\r\n  const getsanpham =  async() => {\r\n    console.log(id);\r\n\r\n            const base_url = api + `editsanpham/${id}`;\r\n            const response = await axios.get(base_url);  // lấy dữ liệu ở trên base_url bằng hàm await \r\n            console.log(response.data); \r\n            // setcategory(response.data);  // hiển thị\r\n            console.log(response.data[0].tensanpham);\r\n            settrademarkname({\r\n                    update: true,\r\n                    name_trademark:response.data[0].tensanpham,\r\n                    name_trademark_email:response.data[0].loaisanpham,\r\n                    name_trademark_address:response.data[0].giasanpham,\r\n                    details:response.data[0].chitietsanpham,\r\n                    manufacturer:response.data[0].hangsanxuat,\r\n                    image:response.data[0].mahinhanh,\r\n                    trademark:response.data[0].thuonghieu,\r\n                    screen:response.data[0].manhinh,\r\n                    cpu:response.data[0].cpu,\r\n                    ram:response.data[0].ram,\r\n                    hard_drive:response.data[0].ocung,\r\n                    weight:response.data[0].trongluong,\r\n                    date:response.data[0].ngaysanxuat,\r\n                  })\r\n  };\r\n\r\n      //code hiển thị các thương hiệu\r\n      const getimageidsanpham = async() => {\r\n        const base_url_2 = api + `hienthi-image-id/${id}` ;\r\n        const response_2 = await axios.get(base_url_2)  // lấy dữ liệu ở trên base_url bằng hàm await \r\n        console.log(response_2.data); \r\n        setlist_trademark(response_2.data);  // hiển thị\r\n      }\r\n\r\n \r\n  return (\r\n    <div className=\"container\">\r\n     <div className=\"row mt-4\"> \r\n      <div className=\"col-sm-5 col-offset-3 mx-auto shadow p-5\">\r\n        <h4 className=\"text-center mb-4\">Cập Nhật Thông Tin</h4>\r\n       \r\n          <h5 className=\"text-success\">Tên Sản Phẩm: {name_trademark} </h5>\r\n          <h6 className=\"text\">ID Hình Ảnh: {id} </h6>\r\n           <div className=\"form-group mb-3\">\r\n              <img className=\"card-img-top hover-shadow\" src={api + 'images/' + image} alt=\"Chưa có hình ảnh trong file nên không hiển thị\" style={{width:\"210px\", height:\"100%\"}}/>\r\n          </div>\r\n           \r\n              <div className=\"form-group\">\r\n                   <input type=\"file\" name=\"file\" className=\"form-control mb-4\" onChange={getimgedit}  multiple />\r\n              </div>\r\n\r\n              <button onClick={updateEmployee} style={{background: \"rgb(216, 21, 21)\"}} className=\"btn btn-secondary btn-block\">Xong</button>\r\n       </div>\r\n      </div> \r\n      \r\n\r\n  \r\n      <div className=\"container\" style={{marginTop: \"50px\"}}>\r\n      <div className=\"row\">\r\n            {list_trademark.map((name) => (\r\n              <div className=\"col-sm-3\" key={name.mahinhanh}>\r\n                <div className=\"card mb-3\" style={{width:\"12rem\"}}>\r\n\r\n                    <h5><a  href=\"#0\" onClick={() => { \r\n                                          const confirmBox = window.confirm(\r\n                                            \"Bạn chắc chắn muốn xóa Hình Ảnh có ID : \"+ name.mahinhanh +\"\"\r\n                                          )\r\n                                          if (confirmBox === true) {\r\n                                              deleteImage(name.mahinhanh)                       \r\n                                          }\r\n                                      }}\r\n                                      style={{textDecoration:\"none\",marginLeft:\"162px\"}}>\r\n\r\n                      <span aria-hidden=\"true\" className=\"text-danger\">&times;</span>\r\n\r\n                    </a></h5>\r\n                   \r\n                    <img className=\"card-img-top hover-shadow\" src={api + 'images/' + name.url} alt=\"Chưa có hình ảnh trong file nên không hiển thị\" style={{height:\"110px\"}}/>\r\n                    <div className=\"card-body\" >\r\n                      <span className=\"card-text\">ID SANPHAM : {name.mahinhanh}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n           </div>\r\n           </div>\r\n\r\n\r\n\r\n    </div>\r\n    \r\n    \r\n  );\r\n};\r\n \r\nexport default EditImage;"]},"metadata":{},"sourceType":"module"}